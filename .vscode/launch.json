{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Load Raw Corpus",
            "type": "python",
            "request": "launch",
            "module": "cli.preprocess.load_raw_corpus",
            "justMyCode": false,
            "args": [
                "--raw-sentence-num",
                "100",
                "--source-txt-dir",
                "data/raw/pubmed",
                "--output-dir",
                "data/raw/3b62dd72b9e6d30984ad8dc85ca66a47c4bcb58c"
            ],
        },
        {
            "name": "Load Pseudo NER",
            "type": "python",
            "request": "launch",
            "module": "cli.preprocess.load_pseudo_ner",
            "justMyCode": false,
            "args": [
                "++ner_model.typer.term2cat.focus_cats=T005_T007_T017_T022_T031_T033_T037_T038_T058_T062_T074_T082_T091_T092_T097_T098_T103_T168_T170_T201_T204",
                "++ner_model.typer.term2cat.duplicate_cats=GeneLocation_Species_Disease_Work_SportsSeason_Device_Media_SportCompetitionResult_EthnicGroup_Protocol_Award_Demographics_MeanOfTransportation_FileSystem_Medicine_Area_Flag_UnitOfWork_MedicalSpecialty_GrossDomesticProduct_Biomolecule_Identifier_Blazon_PersonFunction_List_TimePeriod_Event_Relationship_Altitude_TopicalConcept_Spreadsheet_Currency_Cipher_Browser_Tank_Food_Depth_Population_Statistic_StarCluster_Language_GrossDomesticProductPerCapita_ChemicalSubstance_ElectionDiagram_Diploma_Place_Algorithm_ChartsPlacements_Unknown_Activity_PublicService_Agent_Name_AnatomicalStructure_Colour",
                "++ner_model.typer.term2cat.with_nc=True",
                "+gold_corpus=data/gold/6c65d7f80d7360db4020a9a2987bb195929256c3",
                "+raw_corpus=data/gold/6c65d7f80d7360db4020a9a2987bb195929256c3",
                "+output_dir=data/pseudo/a412731863aba3f960167cc6d91d2c115d11da2c",
            ],
        },
        {
            "name": "Load Erosion Pseudo NER",
            "type": "python",
            "request": "launch",
            "module": "cli.preprocess.load_pseudo_ner",
            "justMyCode": false,
            "args": [
                "ner_model/typer/term2cat=oracle",
                "+ner_model.typer.term2cat.gold_dataset=data/gold/6c65d7f80d7360db4020a9a2987bb195929256c3",
                "+raw_corpus=data/gold/6c65d7f80d7360db4020a9a2987bb195929256c3",
                "++ner_model.typer.term2cat.focus_cats=T005_T007_T017_T022_T031_T033_T037_T038_T058_T062_T074_T082_T091_T092_T097_T098_T103_T168_T170_T201_T204",
                "++ner_model.typer.term2cat.duplicate_cats=GeneLocation_Species_Disease_Work_SportsSeason_Device_Media_SportCompetitionResult_EthnicGroup_Protocol_Award_Demographics_MeanOfTransportation_FileSystem_Medicine_Area_Flag_UnitOfWork_MedicalSpecialty_GrossDomesticProduct_Biomolecule_Identifier_Blazon_PersonFunction_List_TimePeriod_Event_Relationship_Altitude_TopicalConcept_Spreadsheet_Currency_Cipher_Browser_Tank_Food_Depth_Population_Statistic_StarCluster_Language_GrossDomesticProductPerCapita_ChemicalSubstance_ElectionDiagram_Diploma_Place_Algorithm_ChartsPlacements_Unknown_Activity_PublicService_Agent_Name_AnatomicalStructure_Colour",
                "+output_dir=data/pseudo/a412731863aba3f960167cc6d91d2c115d11da2c",
                "+gold_corpus=data/gold/6c65d7f80d7360db4020a9a2987bb195929256c3",
            ],
        },
        {
            "name": "Load Misguidance Pseudo NER",
            "type": "python",
            "request": "launch",
            "module": "cli.preprocess.load_pseudo_ner",
            "justMyCode": false,
            "args": [
                "+raw_corpus=data/gold/6c65d7f80d7360db4020a9a2987bb195929256c3",
                "++ner_model.typer.term2cat.focus_cats=T005_T007_T017_T022_T031_T033_T037_T038_T058_T062_T074_T082_T091_T092_T097_T098_T103_T168_T170_T201_T204",
                "++ner_model.typer.term2cat.duplicate_cats=GeneLocation_Species_Disease_Work_SportsSeason_Device_Media_SportCompetitionResult_EthnicGroup_Protocol_Award_Demographics_MeanOfTransportation_FileSystem_Medicine_Area_Flag_UnitOfWork_MedicalSpecialty_GrossDomesticProduct_Biomolecule_Identifier_Blazon_PersonFunction_List_TimePeriod_Event_Relationship_Altitude_TopicalConcept_Spreadsheet_Currency_Cipher_Browser_Tank_Food_Depth_Population_Statistic_StarCluster_Language_GrossDomesticProductPerCapita_ChemicalSubstance_ElectionDiagram_Diploma_Place_Algorithm_ChartsPlacements_Unknown_Activity_PublicService_Agent_Name_AnatomicalStructure_Colour",
                "+output_dir=data/pseudo/366383a6bcf8a6c6a60ff33c498794b4e93d90af",
                "+gold_corpus=data/gold/6c65d7f80d7360db4020a9a2987bb195929256c3",
                "++mark_misguided_fn=True",
            ],
        },
        {
            "name": "Load MSC",
            "type": "python",
            "request": "launch",
            "module": "cli.preprocess.load_msc_dataset",
            "justMyCode": false,
            "args": [
                "chunker=enumerated",
                "+ner_dataset=data/pseudo/77618cfc118fb77078245a9e566e68485209fa97",
                "+output_dir=data/pseudo/55e5d1b28d77cb8999c0dc0bf287e123cab6ab65",
            ],
        },
        {
            "name": "Load Term2Cat",
            "type": "python",
            "request": "launch",
            "module": "cli.preprocess.load_term2cat",
            "justMyCode": false,
            "args": [
                "output=data/term2cat/4729313ea22ec32285f462ca9ed6ec6351df1b1a.pkl",
                "+duplicate_cats=GeneLocation_Species_Disease_Work_SportsSeason_Device_Media_SportCompetitionResult_EthnicGroup_Protocol_Award_Demographics_MeanOfTransportation_FileSystem_Medicine_Area_Flag_UnitOfWork_MedicalSpecialty_GrossDomesticProduct_Biomolecule_Identifier_Blazon_PersonFunction_List_TimePeriod_Event_Relationship_Altitude_TopicalConcept_Spreadsheet_Currency_Cipher_Browser_Tank_Food_Depth_Population_Statistic_StarCluster_Language_GrossDomesticProductPerCapita_ChemicalSubstance_ElectionDiagram_Diploma_Place_Algorithm_ChartsPlacements_Unknown_Activity_PublicService_Agent_Name_AnatomicalStructure_Colour",
                "+focus_cats=T005_T007_T017_T022_T031_T033_T037_T038_T058_T062_T074_T082_T091_T092_T097_T098_T103_T168_T170_T201_T204",
                "with_nc=True"
            ],
        },
        {
            "name": "Load Gold NER",
            "type": "python",
            "request": "launch",
            "module": "cli.preprocess.load_gold_ner",
            "justMyCode": false,
            "args": [
                "--focus-cats",
                "T005_T007_T017_T022_T031_T033_T037_T038_T058_T062_T074_T082_T091_T092_T097_T098_T103_T168_T170_T201_T204",
                "--output",
                "data/gold/6c65d7f80d7360db4020a9a2987bb195929256c3",
                "--input-dir",
                "data/gold/MedMentions/st21pv/data",
            ],
        },
        {
            "name": "Load Terms (UMLS)",
            "type": "python",
            "request": "launch",
            "module": "cli.preprocess.load_terms",
            "justMyCode": false,
            "args": [
                "--category",
                "T116",
                "--output",
                "data/dict/T116",
            ],
        },
        {
            "name": "Load Terms (DBPedia)",
            "type": "python",
            "request": "launch",
            "module": "cli.preprocess.load_terms",
            "justMyCode": false,
            "args": [
                "--category",
                "Activity",
                "--output",
                "data/dict/Activity",
            ],
        },
        {
            "name": "Train",
            "type": "python",
            "request": "launch",
            "module": "cli.train",
            "justMyCode": false,
            "args": [
                // "ner_model/chunker=spacy_np",
                // "ner_model/typer=random",
                "ner_model.typer.msc_datasets=data/pseudo/45bb5fab313ed96778cb13456ee5ff26fe26063e",
                "++dataset.name_or_path=data/gold/6c65d7f80d7360db4020a9a2987bb195929256c3",
                "++ner_model.typer.model_args.o_sampling_ratio=0.02",
                "++ner_model.typer.train_args.do_train=True",
                "++ner_model.typer.train_args.overwrite_output_dir=True",
                "++ner_model.typer.train_args.per_device_train_batch_size=8",
                "++ner_model.typer.train_args.per_device_eval_batch_size=16"
            ],
        },
        {
            "name": "Train (ALL Negatives)",
            "type": "python",
            "request": "launch",
            "module": "cli.train",
            "justMyCode": false,
            "args": [
                // "ner_model/chunker=enumerated",
                "ner_model/chunker=spacy_np",
                "++dataset.name_or_path=data/pseudo/77618cfc118fb77078245a9e566e68485209fa97",
                "ner_model.typer.msc_args.with_o=True",
                "ner_model.typer.train_args.per_device_eval_batch_size=32",
                "ner_model.typer.train_args.per_device_train_batch_size=24",
                "ner_model.typer.train_args.do_train=True",
                "ner_model.typer.train_args.overwrite_output_dir=True",
                "ner_model.typer.model_args.o_sampling_ratio=0.0004",
            ],
        },
        {
            "name": "Train (Pseudo TwoStage)",
            "type": "python",
            "request": "launch",
            "module": "cli.train",
            "justMyCode": false,
            "args": [
                "ner_model=PseudoTwoStage",
                // "ner_model/typer/term2cat=oracle",
                "ner_model.typer.term2cat=data/term2cat/4729313ea22ec32285f462ca9ed6ec6351df1b1a.pkl",
                // "+ner_model.typer.term2cat.gold_dataset=data/gold/6c65d7f80d7360db4020a9a2987bb195929256c3"
                // "++dataset.name_or_path=data/pseudo/ae0066e412378c8cb49ac6f632bedc7f63ad82dd",
                // "ner_model.typer.data_args.max_span_num=128",
                "testor.baseline_typer.term2cat=data/term2cat/4729313ea22ec32285f462ca9ed6ec6351df1b1a.pkl"
            ],
        },
        {
            "name": "Compare Result",
            "type": "python",
            "request": "launch",
            "module": "cli.compare_result",
            "justMyCode": false,
            "args": [
                // Dict Match
                "outputs/2021-09-28/16-58-30/data/output/0d71eb7b67f1d1aec0d530f0f4ccaf11/prediction_for_validation.dataset/",
                // NP Chunker + Classifier + Negative
                "outputs/2021-09-28/10-15-11/data/output/17cc08c939356bf90aefb5a5c7015f04/prediction_for_validation.dataset/",
            ],
        },
        {
            "name": "Compare Metrics",
            "type": "python",
            "request": "launch",
            "module": "cli.compare_metrics",
            "justMyCode": false,
            "args": [
                "--base-run-id",
                "5c13c05ba0c745e8bf1671ef8ec2fa95",
                "--focus-run-id",
                "c2afdb78eca3414bba3cbdba53d9d551",
            ],
        },
        {
            "name": "Compare MSC",
            "type": "python",
            "request": "launch",
            "module": "cli.compare_msc_dataset",
            "justMyCode": false,
            "args": [
                "--base-msc-datasets",
                "data/pseudo/edb86cc822f1a355f3fe056d347523da9ff2e42d",
                "--focus-msc-datasets",
                "data/pseudo/45bb5fab313ed96778cb13456ee5ff26fe26063e",
                "--output-dir",
                "outputs/error_analysis/check_msc_dataset"
            ],
        },
        {
            "name": "Python: Main",
            "type": "python",
            "request": "launch",
            "program": "main.py",
            "console": "integratedTerminal",
            "args": [
                "arg0",
            ],
            "env": {
                // "ENV_VARIABLE": "value",
            },
            "justMyCode": false
        },
    ]
}